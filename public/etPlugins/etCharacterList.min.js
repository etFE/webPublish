/*! etCharacterList   Wed Dec 13 2017 20:38:14 GMT+0800 (中国标准时间) */
!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,e),a.l=!0,a.exports}var r={};e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,r){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();r(1);var o={url:"",param:{},onClick:null,selectedItem:{},pageModel:{type:!1,page:1,changepage:1,pagesize:20}},i=function(){this.$wrap.append('<li class="character-loading">\n        <svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 28 28">\n            <title>spinner</title>\n            <path fill="currentColor" d="M8.219 21.781c0 1.094-0.891 2-2 2-1.094 0-2-0.906-2-2 0-1.109 0.906-2 2-2 1.109 0 2 0.891 2 2zM16 25c0 1.109-0.891 2-2 2s-2-0.891-2-2 0.891-2 2-2 2 0.891 2 2zM5 14c0 1.109-0.891 2-2 2s-2-0.891-2-2 0.891-2 2-2 2 0.891 2 2zM23.781 21.781c0 1.094-0.906 2-2 2-1.109 0-2-0.906-2-2 0-1.109 0.891-2 2-2 1.094 0 2 0.891 2 2zM8.719 6.219c0 1.375-1.125 2.5-2.5 2.5s-2.5-1.125-2.5-2.5 1.125-2.5 2.5-2.5 2.5 1.125 2.5 2.5zM27 14c0 1.109-0.891 2-2 2s-2-0.891-2-2 0.891-2 2-2 2 0.891 2 2zM17 3c0 1.656-1.344 3-3 3s-3-1.344-3-3 1.344-3 3-3 3 1.344 3 3zM25.281 6.219c0 1.937-1.578 3.5-3.5 3.5-1.937 0-3.5-1.563-3.5-3.5 0-1.922 1.563-3.5 3.5-3.5 1.922 0 3.5 1.578 3.5 3.5z"></path>\n        </svg>\n    </li>');var t=this.$wrap.scrollTop();0!==t&&this.$wrap.scrollTop(t+60)},s=function(){this.$wrap.find("li.character-loading").remove()},c=function(){this.$wrap.append('<li class="character-nothing">没有了</li>')},l=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.url,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.param,n=this.$wrap;i.call(this),$.ajax({url:e,data:r,type:"POST",dataType:"json",success:function(e){t.total=e.Total||e.Rows.length,e.Rows.forEach(function(e){t.data.push(e);var r='<li class="character-item" character-id="'+e.user_code+'">\n                        <div class="character-avatar">\n                            <img src="'+e.photo+'" alt="'+e.emp_name+'" />\n                        </div>\n                        <ul class="character-msg">\n                            <li>姓名：'+e.emp_name+"</li>\n                            <li>职务："+e.duty_name+"</li>\n                            <li>微信："+e.mobile+"</li>\n                        </ul>\n                    </li>";n.append(r)}),s.call(t),t.scrollFlag=!0}})},f=function(){var t=this.$wrap,e=this.pageModel,r=this.param;t.addClass("character-list"),e.type&&(r.page=e.page,r.changepage=e.changepage,r.pagesize=e.pagesize),l.call(this)},u=function(){var t=this,e=this.$wrap;e.on("click",".character-item",function(r){var n=r.currentTarget;e.children().removeClass("active"),$(n).addClass("active"),t.selectedItem.user_code=$(n).attr("character-id"),t.onClick&&t.onClick(t.selectedItem)}),this.pageModel.type&&e.on("scroll",function(){var r=e.children(":last"),n=e.height(),a=r.offset().top+r.height();if((a-=e.offset().top)<n&&t.scrollFlag){if(Math.ceil(t.total/t.pageModel.pagesize)===t.param.page)return void c.call(t);t.param.page++,l.call(t,t.url,t.param)}})},p=function(){function t(e,r){return n(this,t),this.VERSION="1.1.0",this.$wrap=e,this.scrollFlag=!1,this.data=[],this.total=null,$.extend(!0,this,o,r),f.call(this),u.call(this),this}return a(t,[{key:"reload",value:function(){this.scrollFlag=!1,this.$wrap.children().remove(),f.call(this)}},{key:"getSelectedItem",value:function(){return this.selectedItem}},{key:"clearSelected",value:function(){this.selectedItem={},this.$wrap.find("li.active").removeClass("active")}}]),t}();$.fn.etCharacterList=function(t){return new p(this,t)}},function(t,e,r){var n=r(2);"string"==typeof n&&(n=[[t.i,n,""]]);var a={};a.transform=void 0;r(4)(n,a);n.locals&&(t.exports=n.locals)},function(t,e,r){e=t.exports=r(3)(void 0),e.push([t.i,"@keyframes loading{0%{transform:rotate(0deg);-ms-transform:rotate(0deg);-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg)}to{transform:rotate(1turn);-ms-transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);-o-transform:rotate(1turn)}}@-moz-keyframes loading{0%{transform:rotate(0deg);-ms-transform:rotate(0deg);-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg)}to{transform:rotate(1turn);-ms-transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);-o-transform:rotate(1turn)}}@-webkit-keyframes loading{0%{transform:rotate(0deg);-ms-transform:rotate(0deg);-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg)}to{transform:rotate(1turn);-ms-transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);-o-transform:rotate(1turn)}}@-o-keyframes loading{0%{transform:rotate(0deg);-ms-transform:rotate(0deg);-moz-transform:rotate(0deg);-webkit-transform:rotate(0deg);-o-transform:rotate(0deg)}to{transform:rotate(1turn);-ms-transform:rotate(1turn);-moz-transform:rotate(1turn);-webkit-transform:rotate(1turn);-o-transform:rotate(1turn)}}.character-list{width:100%;height:100%;list-style:none;padding:10px 5px;margin:0;box-sizing:border-box;overflow-y:auto;font-size:12px}.character-list .character-loading{text-align:center;height:60px}.character-list .character-loading svg{width:30px;height:30px;color:#333;animation:loading .8s linear infinite;-moz-animation:loading .8s linear infinite;-webkit-animation:loading .8s linear infinite;-o-animation:loading .8s linear infinite}.character-list .character-nothing{text-align:center;height:30px;line-height:30px;color:#333}.character-list .character-item{display:-ms-flexbox;display:-webkit-flex;display:flex;margin-bottom:10px;box-sizing:border-box;padding:5px;border:1px solid transparent;cursor:pointer;transition:all .2s}.character-list .character-item.active,.character-list .character-item:hover{border:1px solid #64afec}.character-list .character-avatar{width:45px}.character-list .character-avatar img{display:block;width:45px;height:45px;border:1px solid #aaa}.character-list .character-msg{-webkit-flex:1;-ms-flex:1;flex:1;list-style:none;padding:0;margin:0 0 0 10px;box-sizing:border-box}",""])},function(t,e){function r(t,e){var r=t[1]||"",a=t[3];if(!a)return r;if(e&&"function"==typeof btoa){var o=n(a);return[r].concat(a.sources.map(function(t){return"/*# sourceURL="+a.sourceRoot+t+" */"})).concat([o]).join("\n")}return[r].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(n[o]=!0)}for(a=0;a<t.length;a++){var i=t[a];"number"==typeof i[0]&&n[i[0]]||(r&&!i[2]?i[2]=r:r&&(i[2]="("+i[2]+") and ("+r+")"),e.push(i))}},e}},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],a=h[n.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](n.parts[o]);for(;o<n.parts.length;o++)a.parts.push(f(n.parts[o],e))}else{for(var i=[],o=0;o<n.parts.length;o++)i.push(f(n.parts[o],e));h[n.id]={id:n.id,refs:1,parts:i}}}}function a(t,e){for(var r=[],n={},a=0;a<t.length;a++){var o=t[a],i=e.base?o[0]+e.base:o[0],s=o[1],c=o[2],l=o[3],f={css:s,media:c,sourceMap:l};n[i]?n[i].parts.push(f):r.push(n[i]={id:i,parts:[f]})}return r}function o(t,e){var r=g(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=w[w.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function i(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",l(e,t.attrs),o(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",l(e,t.attrs),o(t,e),e}function l(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function f(t,e){var r,n,a,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var l=b++;r=v||(v=s(e)),n=u.bind(null,r,l,!1),a=u.bind(null,r,l,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=c(e),n=d.bind(null,r,e),a=function(){i(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(e),n=p.bind(null,r),a=function(){i(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else a()}}function u(t,e,r,n){var a=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=x(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function p(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}function d(t,e,r){var n=r.css,a=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&a;(e.convertToAbsoluteUrls||o)&&(n=y(n)),a&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */");var i=new Blob([n],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}var h={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),g=function(t){var e={};return function(r){return void 0===e[r]&&(e[r]=t.call(this,r)),e[r]}}(function(t){return document.querySelector(t)}),v=null,b=0,w=[],y=r(5);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");e=e||{},e.attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=a(t,e);return n(r,e),function(t){for(var o=[],i=0;i<r.length;i++){var s=r[i],c=h[s.id];c.refs--,o.push(c)}if(t){n(a(t,e),e)}for(var i=0;i<o.length;i++){var c=o[i];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete h[c.id]}}}};var x=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var a=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a))return t;var o;return o=0===a.indexOf("//")?a:0===a.indexOf("/")?r+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(o)+")"})}}]);